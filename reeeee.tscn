[gd_scene load_steps=5 format=2]

[ext_resource path="res://egggg.png" type="Texture" id=1]

[sub_resource type="CanvasItemMaterial" id=4]

[sub_resource type="GDScript" id=1]
script/source = "extends Line2D

#warning-ignore:unused_class_variable
var bounces : int = 0 
func _ready():
	points = PoolVector2Array([Vector2(500,250), Vector2(600,350), Vector2()])
	set_point_position(0, Vector2(0,0))
	set_point_position(1, Vector2(0,0))
	set_point_position(2, Vector2())
	print(points)

#warning-ignore:unused_argument
func _process(delta):
	print($\"../RayCast2D\".get_collision_point())
	set_point_position(1, $\"../RayCast2D\".get_collision_point())
	$\"../RayCast2D2\".position = points[1]
	var yee = Vector2($\"../RayCast2D2\".position.x - $\"../RayCast2D\".get_collision_normal().x, ($\"../RayCast2D2\".position.y - $\"../RayCast2D\".get_collision_normal().y))
#	print($\"../RayCast2D2\".look_at(yee) + $\"../RayCast2D2\".get_angle_to(points[0]))
	$\"../RayCast2D2\".look_at(yee)
	$\"../RayCast2D2\".rotation = $\"../RayCast2D2\".rotation
#	var oof = get_angle_to(points[1])
	set_point_position(2, $\"../RayCast2D2\".get_collision_point())
#	print($\"../RayCast2D2\".get_collision_point(), $\"../RayCast2D2\".position, pointsf"

[sub_resource type="GDScript" id=2]
script/source = "extends RayCast2D

#warning-ignore:unused_argument
func _process(delta):
	look_at(get_global_mouse_position())"

[node name="Node2D" type="Node2D"]

[node name="Line2D" type="Line2D" parent="."]
material = SubResource( 4 )
default_color = Color( 1, 1, 1, 1 )
texture = ExtResource( 1 )
texture_mode = 2
script = SubResource( 1 )

[node name="RayCast2D" type="RayCast2D" parent="."]
rotation = 3.14159
enabled = true
cast_to = Vector2( -10000, 0 )
collide_with_areas = true
script = SubResource( 2 )

[node name="RayCast2D2" type="RayCast2D" parent="."]
enabled = true
cast_to = Vector2( -10000, 0 )
collide_with_areas = true

